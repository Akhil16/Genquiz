function validateQuestion(){0==$("input[name=question]").val().length?(question_valid=!1,implement_error("question_div","question_feedback",$("input[name=question]"),"Required")):(question_valid=!0,implement_success("question_div","question_feedback",$("input[name=question]")))}function validateOptions(){option_valid=!0,"text"!==$("#question_type").val()&&($(".option-input").each(function(){0==$(this).val().length?(option_valid=!1,$(this).css("border-color",bd_red),$(this).css("background",bg_red)):($(this).css("border-color",bd_green),$(this).css("background",bg_green))}),0==option_valid?$("#option_feedback").text("All Fields Required").removeClass().addClass("alert alert-danger").show():$("#option_feedback").text("").removeClass().hide())}function validateAnswer(){answer_valid=!0,answer="","single choice"==$("#question_type").val()?answer=$(".answer-radio:checked").val():"multiple choice"==$("#question_type").val()?($(".answer-checkbox:checked").each(function(){answer+=$(this).val()+","}),answer=answer.substr(0,answer.length-1)):answer=$("#text-answer").val(),null==answer||""==answer?(answer_valid=!1,$("#answer_feedback").text("Answer Required").removeClass().addClass("alert alert-danger").show(),"text"==$("#question_type").val()&&($("#text-answer-div").removeClass().addClass("form-group has-error"),$("#text-answer").css("border-color",bd_red),$("#text-answer").css("background",bg_red))):(answer_valid=!0,$("#answer_feedback").text("").removeClass().hide(),"text"==$("#question_type").val()&&($("#text-answer-div").removeClass().addClass("form-group"),$("#text-answer").css("border-color",bd_green),$("#text-answer").css("background",bg_green))),1==answer_valid&&$("input[name=answer]").val(answer)}function implement_error(e,t,n,o,i){i=i||"",$("#"+e).removeClass().addClass("form-group has-error "+i),$(n).css("border-color",bd_red),$(n).css("background",bg_red),$("#"+t).text(o).removeClass().addClass("alert alert-danger").show()}function implement_success(e,t,n,o){o=o||"",$("#"+e).removeClass().addClass("form-group "+o),$(n).css("border-color",bd_green),$(n).css("background",bg_green),$("#"+t).text("").removeClass().hide()}var question_valid=!1,option_valid=!1,answer_valid=!1,bg_green="#DCEDC8",bd_green="#81C784",bg_red="#ffcdd2",bd_red="#a94442";$(document).ready(function(){var e,t=$(".options-list-row").length,n=t+97;$("#add-option-btn").on("click",function(){t++,$("<tr id='row_option_"+String.fromCharCode(n)+"' class='options-list-row'><td><input class='form-control option-input' type='text' name='option[]' placeholder='Please Enter Something'></td><td><input class='form-check-input answer-radio' type='radio' name='radio' value='"+String.fromCharCode(n)+"'><input class='form-check-input answer-checkbox' type='checkbox' style='display: none;' disabled='disabled' value='"+String.fromCharCode(n)+"'></td><td><button class='btn btn-warning delete-option-btn' value='"+String.fromCharCode(n)+"'>Delete</button></td></tr>").insertBefore($("#add-option-row")),t>=4&&$(this).css("display","none"),e=97,$(".options-list-row").each(function(){$(this).children().eq(1).children().val(String.fromCharCode(e)),$(this).children().eq(e-97).attr("id","row_option_"+String.fromCharCode(e)),e++}),n++,"single choice"==$("#question_type").val()?($("input[type=radio]").css("display","block").removeAttr("disabled"),$("input[type=checkbox]").css("display","none").attr("disabled","true")):($("input[type=radio]").css("display","none").attr("disabled","true"),$("input[type=checkbox]").css("display","block").removeAttr("disabled"))}),$("#options-list").on("click",".delete-option-btn",function(){t>1&&($("#row_option_"+$(this).val()).remove(),t--),t<=4&&$("#add-option-btn").css("display","block"),e=97,$(".options-list-row").each(function(){$(this).children().eq(1).children().val(String.fromCharCode(e)),$(this).children().eq(e-97).attr("id","row_option_"+String.fromCharCode(e)),e++})}),$("#question_type").on("change",function(){"text"==$(this).val()?($("#options-list-div").slideUp(),$("#text-answer-div").slideDown(),$(".option-input").attr("disabled","true")):($("#options-list-div").slideDown(),"single choice"==$(this).val()?($("input[type=radio]").css("display","block").removeAttr("disabled"),$("input[type=checkbox]").css("display","none").attr("disabled","true")):($("input[type=radio]").css("display","none").attr("disabled","true"),$("input[type=checkbox]").css("display","block").removeAttr("disabled")),$("#text-answer-div").slideUp(),$(".option-input").removeAttr("disabled"))}),$("#add-question-form").on("submit",function(e){e.preventDefault()}),$("#add-question-form-btn").on("click",function(){validateQuestion(),validateOptions(),validateAnswer(),question_valid&&option_valid&&answer_valid&&$("#add-question-form").unbind("submit").submit()}),$("input[name=question]").on("blur",function(){validateQuestion()}),$("#options-list").on("blur",".option-input",function(){validateOptions()})});